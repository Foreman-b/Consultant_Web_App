{% extends 'app/base_nav_bar.html' %}
{% load static %}

{% block extra_head %}
<title>{% block title %} Payments {% endblock %}</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.min.js"
    integrity="sha384-G/EV+4j2dNv+tEPo3++6LCgdCROaejBqfUeNjuKAiuXbjrxilcCdDz6ZAVfHWe1Y"
    crossorigin="anonymous"></script>
{% endblock %}


{% block content %}
<div class="container mt-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>PAYMENT DASHBOARD </h2>
    </div>

    <div class="table-responsive shadow-sm rounded">
        <table class="table table-hover table-striped mb-0">
            <thead class="table-dark">
                <tr>
                    <th>Client Name</th>
                    <th>Reason for Session</th>
                    <th>Amount</th>
                    <th>Date Created</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                {% for payment in payments %}
                <tr>
                    <td class="fw-bold">{{ payment.booking.client.get_full_name }}</td>

                    <td>{{ payment.booking.reason_for_session }}</td>

                    <td>â‚¦{{ payment.amount_in_naira |floatformat:2 }}</td>

                    <td>{{ payment.booking.created_at|date:"M d, Y H:i" }}</td>

                    <td>
                        <span
                            class="badge {% if payment.status == 'success' %}bg-success{% else %}bg-warning{% endif %}">
                            {{ payment.status|title }}
                        </span>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="5" class="text-center py-4 text-muted">No payments found.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
<br><br><br><br><br><br><br><br><br><br>
{% endblock %}